!function(e){var t={};function n(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(a,l,function(t){return e[t]}.bind(null,l));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t,n){var a=n(4),l=n(5),o=n(6);e.exports=function(e,t){return a(e)||l(e,t)||o()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,l=!1,o=void 0;try{for(var c,r=e[Symbol.iterator]();!(a=(c=r.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){"use strict";n.r(t);var a=n(0),l=n(3),o=n.n(l),c=n(2),r=n(1),s=function(e){return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"header",role:"region","aria-label":Object(c.__)("WP Live Debug Top Bar","wp-live-debug"),tabIndex:"-1"},Object(a.createElement)("div",{className:"page-title"},Object(a.createElement)("h1",{className:"header-title"},Object(c.__)("WP Live Debug","wp-live-debug"))),Object(a.createElement)("div",{className:"backup-restore"},e.hasManualBackup?Object(a.createElement)(r.Button,{id:"wp-live-debug-restore",isPrimary:!0,onClick:e.BackupActions},Object(c.__)("Restore wp-config","wp-live-debug")):Object(a.createElement)(r.Button,{id:"wp-live-debug-backup",isPrimary:!0,onClick:e.BackupActions},Object(c.__)("Backup wp-config","wp-live-debug")))))},u=function(){return Object(a.createElement)("textarea",{id:"wp-live-debug-area",name:"wp-live-debug-area",spellCheck:"false"})},i=function(e){return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.Panel,{header:Object(c.__)("Settings & Information","wp-live-debug")},Object(a.createElement)(r.PanelBody,{title:Object(c.__)("Constants Settings","wp-live-debug"),initialOpen:!0,className:e.loading,icon:Object(a.createElement)(r.Spinner,null)},e.hasManualBackup?Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.PanelRow,null,Object(a.createElement)("label",{htmlFor:"WP_DEBUG",className:"components-toggle-control__label"},"WP_DEBUG"),Object(a.createElement)(r.FormToggle,{id:"WP_DEBUG",checked:e.debugEnabled,onClick:e.alterConstant})),Object(a.createElement)(r.PanelRow,null,Object(a.createElement)("label",{htmlFor:"WP_DEBUG_LOG",className:"components-toggle-control__label"},"WP_DEBUG_LOG"),Object(a.createElement)(r.FormToggle,{id:"WP_DEBUG_LOG",checked:e.debugLogEnabled,onClick:e.alterConstant})),Object(a.createElement)(r.PanelRow,null,Object(a.createElement)("label",{htmlFor:"WP_DEBUG_DISPLAY",className:"components-toggle-control__label"},"WP_DEBUG_DISPLAY"),Object(a.createElement)(r.FormToggle,{id:"WP_DEBUG_DISPLAY",checked:e.debugDisplayEnabled,onClick:e.alterConstant})),Object(a.createElement)(r.PanelRow,null,Object(a.createElement)("label",{htmlFor:"SCRIPT_DEBUG",className:"components-toggle-control__label"},"SCRIPT_DEBUG"),Object(a.createElement)(r.FormToggle,{id:"SCRIPT_DEBUG",checked:e.scriptDebugEnabled,onClick:e.alterConstant})),Object(a.createElement)(r.PanelRow,null,Object(a.createElement)("label",{htmlFor:"SAVEQUERIES",className:"components-toggle-control__label"},"SAVEQUERIES"),Object(a.createElement)(r.FormToggle,{id:"SAVEQUERIES",checked:e.saveQueriesEnabled,onClick:e.alterConstant}))):Object(a.createElement)(r.PanelRow,null,Object(a.createElement)("span",null,Object(c.__)("Backup wp-config for more settings!","wp-live-debug"))),Object(a.createElement)(r.PanelRow,null,Object(a.createElement)("label",{htmlFor:"alterAutoRefresh",className:"components-toggle-control__label"},"Auto Refresh"),Object(a.createElement)(r.FormToggle,{id:"alterAutoRefresh",checked:e.autoRefreshEnabled,onClick:e.alterAutoRefresh})),Object(a.createElement)(r.PanelRow,null,Object(a.createElement)(r.Button,{isLink:!0,onClick:e.clearLog},Object(c.__)("Clear log.","wp-live-debug")),Object(a.createElement)(r.Button,{isLink:!0,isDestructive:!0,onClick:e.deleteLog},Object(c.__)("Delete log.","wp-live-debug"))))),Object(a.createElement)(r.Panel,null,Object(a.createElement)(r.PanelBody,{title:Object(c.__)("More Information","wp-live-debug"),initialOpen:!1},Object(a.createElement)(r.PanelRow,null,Object(a.createElement)("span",null,Object(c.__)("You will find extra wp-config.php backups in your WordPress root directory as:","wp-live-debug"))),Object(a.createElement)(r.PanelRow,null,Object(a.createElement)("span",null,e.hasAutoBackup&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("strong",null,"wp-config.WPLD-auto.php "),Object(a.createElement)("br",null)),e.hasManualBackup&&Object(a.createElement)("strong",null,"wp-config.WPLD-manual.php"))),Object(a.createElement)(r.PanelRow,null,Object(a.createElement)("span",null,Object(c.__)("For more information you can visit","wp-live-debug")," ",Object(a.createElement)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://wordpress.org/support/article/debugging-in-wordpress/"},Object(c.__)("Debugging in WordPress","wp-live-debug")),".")))))},b=function(e){return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"content",role:"region","aria-label":Object(c.__)("Log view","wp-live-debug"),tabIndex:"-1"},Object(a.createElement)("div",{className:"main"},Object(a.createElement)("h2",null,Object(c.__)("Viewing:","wp-live-debug")," ",e.debugLogLocation),Object(a.createElement)(u,null)),Object(a.createElement)("div",{className:"sidebar"},Object(a.createElement)(i,{loading:e.loading,alterConstant:e.alterConstant,alterAutoRefresh:e.alterAutoRefresh,hasManualBackup:e.hasManualBackup,hasAutoBackup:e.hasAutoBackup,debugEnabled:e.debugEnabled,debugLogEnabled:e.debugLogEnabled,debugDisplayEnabled:e.debugDisplayEnabled,scriptDebugEnabled:e.scriptDebugEnabled,saveQueriesEnabled:e.saveQueriesEnabled,autoRefreshEnabled:e.autoRefreshEnabled,clearLog:e.clearLog,deleteLog:e.deleteLog}))))},d=function(){var e=Object(a.useState)(!0),t=o()(e,2),n=t[0],l=t[1],c=Object(a.useState)(!1),r=o()(c,2),u=r[0],i=r[1],d=Object(a.useState)(!1),p=o()(d,2),g=p[0],_=p[1],w=Object(a.useState)(!1),m=o()(w,2),E=m[0],f=m[1],O=Object(a.useState)(!1),j=o()(O,2),v=j[0],h=j[1],P=Object(a.useState)(!1),S=o()(P,2),R=S[0],k=S[1],x=Object(a.useState)(!1),B=o()(x,2),y=B[0],L=B[1],D=Object(a.useState)(!1),T=o()(D,2),C=T[0],G=T[1],U=Object(a.useState)(!1),A=o()(U,2),I=A[0],H=A[1],q=Object(a.useState)("show-spinner"),M=o()(q,2),N=M[0],W=M[1],F=Object(a.useState)(""),X=o()(F,2),J=X[0],Q=X[1],V=function(){var e=document.getElementById("wp-live-debug-area");null!==e&&(e.scrollTop=e.scrollHeight)},Y=function(){var e=new XMLHttpRequest,t=wp_live_debug_globals.ajax_url,a=wp_live_debug_globals.nonce;e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),e.onload=function(){if(this.status>=200&&this.status<400){var e=document.getElementById("wp-live-debug-area");null!==e&&(e.value=this.response),n&&V()}},e.send("action=wp-live-debug-read-debug-log&_ajax_nonce="+a)};Object(a.useEffect)((function(){var e=setInterval((function(){!0===I&&(Y(),V())}),3e3);return function(){return clearInterval(e)}}));var z,K,Z;return n&&(z=new XMLHttpRequest,K=wp_live_debug_globals.ajax_url,Z=wp_live_debug_globals.nonce,z.open("POST",K,!0),z.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),z.onload=function(){this.status>=200&&this.status<400&&G(!0)},z.send("action=wp-live-debug-check-auto-backup-json&_ajax_nonce="+Z),function(){var e=new XMLHttpRequest,t=wp_live_debug_globals.ajax_url,n=wp_live_debug_globals.nonce;e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),e.onload=function(){this.status>=200&&this.status<400&&(!0===JSON.parse(this.response).success&&L(!0))},e.send("action=wp-live-debug-check-manual-backup-json&_ajax_nonce="+n)}(),function(){var e=new XMLHttpRequest,t=wp_live_debug_globals.ajax_url,n=wp_live_debug_globals.nonce;e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),e.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);Q(e.data.debuglog_path)}},e.send("action=wp-live-debug-find-debug-log-json&_ajax_nonce="+n)}(),function(){var e=new XMLHttpRequest,t=wp_live_debug_globals.ajax_url,n=wp_live_debug_globals.nonce;e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),e.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);!0===e.success&&(e.data.forEach((function(e){switch(e){case"WP_DEBUG":i(!0);break;case"WP_DEBUG_LOG":_(!0);break;case"WP_DEBUG_DISPLAY":f(!0);break;case"SCRIPT_DEBUG":h(!0);break;case"SAVEQUERIES":k(!0)}})),W("hide-spinner"))}},e.send("action=wp-live-debug-is-constant-true&_ajax_nonce="+n)}(),function(){var e=new XMLHttpRequest,t=wp_live_debug_globals.ajax_url,n=wp_live_debug_globals.nonce;e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),e.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);!0===e.success&&("disabled"===e.data?H(!1):"enabled"===e.data&&H(!0))}},e.send("action=wp-live-debug-auto-refresh-is&_ajax_nonce="+n)}(),Y(),l(!1)),Object(a.createElement)(a.Fragment,null,Object(a.createElement)(s,{BackupActions:function(e){if(W("show-spinner"),"wp-live-debug-backup"===e.target.id){var t=new XMLHttpRequest,n=wp_live_debug_globals.ajax_url,a=wp_live_debug_globals.nonce;t.open("POST",n,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),t.onload=function(){this.status>=200&&this.status<400&&(!0===JSON.parse(this.response).success&&window.location.reload())},t.send("action=wp-live-debug-create-backup&_ajax_nonce="+a)}else{var l=new XMLHttpRequest,o=wp_live_debug_globals.ajax_url,c=wp_live_debug_globals.nonce;l.open("POST",o,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),l.onload=function(){this.status>=200&&this.status<400&&(!0===JSON.parse(this.response).success&&window.location.reload())},l.send("action=wp-live-debug-restore-backup&_ajax_nonce="+c)}},hasManualBackup:y}),Object(a.createElement)(b,{loading:N,alterConstant:function(e){W("show-spinner");var t=e.target.id,n="false";switch(t){case"WP_DEBUG":n=!u;break;case"WP_DEBUG_LOG":n=!g&&J;break;case"WP_DEBUG_DISPLAY":n=!E;break;case"SCRIPT_DEBUG":n=!v;break;case"SAVEQUERIES":n=!R}var a=new XMLHttpRequest,l=wp_live_debug_globals.ajax_url,o=wp_live_debug_globals.nonce;a.open("POST",l,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),a.onload=function(){if(this.status>=200&&this.status<400&&!0===JSON.parse(this.response).success){switch(t){case"WP_DEBUG":i(n);break;case"WP_DEBUG_LOG":!1!==n&&(n=!0),_(n);break;case"WP_DEBUG_DISPLAY":f(n);break;case"SCRIPT_DEBUG":h(n);break;case"SAVEQUERIES":k(n)}W("hide-spinner")}},a.send("action=wp-live-debug-alter-constant&_ajax_nonce="+o+"&constant="+t+"&value="+n)},alterAutoRefresh:function(){W("show-spinner");var e=new XMLHttpRequest,t=wp_live_debug_globals.ajax_url,n=wp_live_debug_globals.nonce,a="enabled";!1===I?(a="enabled",H(!0)):(a="disabled",H(!1)),e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),e.onload=function(){this.status>=200&&this.status<400&&(!0===JSON.parse(this.response).success&&W("hide-spinner"))},e.send("action=wp-live-debug-alter-auto-refresh&_ajax_nonce="+n+"&value="+a)},hasManualBackup:y,hasAutoBackup:C,debugEnabled:u,debugLogLocation:J,debugLogEnabled:g,debugDisplayEnabled:E,scriptDebugEnabled:v,saveQueriesEnabled:R,autoRefreshEnabled:I,clearLog:function(){var e=new XMLHttpRequest,t=wp_live_debug_globals.ajax_url,n=wp_live_debug_globals.nonce;e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),e.onload=function(){this.status>=200&&this.status<400&&JSON.parse(this.response).success},e.send("action=wp-live-debug-clear-debug-log&_ajax_nonce="+n)},deleteLog:function(){var e=new XMLHttpRequest,t=wp_live_debug_globals.ajax_url,n=wp_live_debug_globals.nonce;e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),e.onload=function(){this.status>=200&&this.status<400&&JSON.parse(this.response).success},e.send("action=wp-live-debug-delete-debug-log&_ajax_nonce="+n)}}))};Object(a.render)(Object(a.createElement)(d,null),document.getElementById("wpld-page"))}]);